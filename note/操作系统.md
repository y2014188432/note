## 定义

### 是系统资源的管理者

- 处理机管理
- 处理器管理
- 文件管理
- 设备管理

### 向上层提供方便易用的服务

- 理解
    - 操作系统对指令进行封装

- 常见接口
    - GUI 图形化用户接口
    - 命令接口、联机命令接口、即交互式命令接口
    - 命令接口、脱机命令接口、批处理命令接口 
    - 程序接口、系统调用、用户不能直接使用，由程序调用

### 最接近硬件的软件

- 实现对硬件机器的拓展

《=============================================》

## 四个特征

### 并发

- 并发 VS 并行
- 并发：同时运行
    - 并行：宏观上同时，微观上交替
    
- 

### 共享

- 互斥共享
- 一个时间段内、只允许一个进程、
    
- 同时共享
-  一个时间段内、多个进程同时、
    
- 并发于共享互为条件
- 失去并发性、只能有一个运行、共享性失去意义
    - 失去共享性、无法同时访问资源、无法并发

### 虚拟

- 空分复用技术

- 时分复用技术

### 异步

- 

《=============================================》

## 发展

### 手工操作阶段

- 纸带机读入读出极慢
- 用户独占计算机
- 人机速度矛盾、资源利用率极低

### 批处理阶段

1. 单道批处理

    - 缓解人机矛盾

    - 引入脱机输入输出技术

    - 监督程序负责作业的输入、输出

    - 资源利用率仍然很低

2. 多道批处理

    - 多道程序并发执行
    - 不提供人机交互功能
    - 资源利用率有所提高

### 分时操作系统

- 时间片为单位
- 轮流为各个作业提供服务
- 不能优先处理紧急任务

### 实时操作系统

- 及时性、可靠性
- 硬实时系统 ： 绝对严格
- 软实时系统： 可以偶尔出错

《=============================================》

## 分类

### 网络操作系统

### 分布式操作系统

### 个人计算机操作系统

《=============================================》

## 中断和异常

### 中断的作用

- 操作系统夺回 CPU 使用权 唯一途径
- 实现并发的基础
- 使 CPU 从用户态变为内核态

### 中断的类型

1. 内中断（ 异常）
    - 来自 CPU 内部
    - 陷阱、陷入 中断
        1. 由陷入指令引发，由应用程序故意引发的
    - 故障 中断
        1. 使用权返回给应用程序，如 缺纸故障
    - 终止 中断
        1. 终止应用程序，如 非法的特权指令、除数为零
2. 外中断
    - 来自 外部
    - 时钟中断 
    - I / O 中断
3. 用户态  -----> 内核态

### 中断机制的基本原理

- 执行指令时会检查中断
- 中断产生不同的中断信号
- 根据中断处理表进行处理

《=============================================》

## 系统调用

### 什么是系统调用

- 用户态 --------> 内核态
- 应用程序通过系统调用来请求获得   操作系统内核的服务
- 设备管理：完成设备的   ：请求、释放、启动 。。。
- 文件管理：完成文件的   ：读、写、创建、删除。。。
- 进程管理： 完成进程的 ： 创建、撤销、阻塞、唤醒 。。。
- 进程通信： 完成进程之间的 ： 消息传递、信号传递 。。。
- 内存管理： 完成内存的 ： 分配、回收 。。。 

### 系统调用与库函数的区别

- 部分库函数的底层实现源于系统调用，如创建 新文件、、、
- 库函数将系统调用进行封装，隐藏了系统调用的一些细节，使用起来更方便。
- 应用程序可直接 使用系统调用，也可使用库函数

### 系统函数的重要性

- 在并发的过程中，若两进程需同时使用打印机？
- 操作系统对共享资源进行统一管理
- 向上提供 系统调用
- 若想使用打印机，只能发出请求
- 内核进行协调处理

### 什么功能要用系统调用实现

- 对共享资源的操作  必须使用系统调用
- 保证系统的稳定性、安全性

### 系统调用的过程

- 传参
- 陷入指令 || Trap || 访管
- 由操作系统内核程序处理系统调用请求
- 返回应用程序


## 操作系统的内核

### 定义

- 操作系统最基本、最核心的部分
- 内核最接近硬件

### 内核程序    

- 时钟管理
    - 实现计时功能
- 中断处理
    - 负责实现中断机制
- 原语
    - 一种特殊的程序
    - 处于操作系统最底层、最接近硬件
    - 运行一次和成、不可中断
    - 运行时间较短、调用频繁

### 对系统资源进行管理的功能

- 进程管理
- 储存器管理
- 设备管理

### 体系结构

- 大内核
    - 主要功能模块都作为系统内核
    - 优点、高性能
    - 缺点、内核代码庞大、结构混乱、难以维护
    - Linux、UNIX
- 微内核
    - 基本功能保留在内核
    - 优点、内核功能少、结构清晰、方便维护
    - 缺点、频繁切换状态、性能低
    - Windows NT

### 注意

- 使用内核需要运行在内核态
- 非内核功能运行在用户态

《=============================================》

# 解释

### 批处理命令接口

1. 一次说一堆